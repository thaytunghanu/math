<!-- The Footer 

<footer
  aria-label="Site Info"
  class="d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3"
>
  <p>
    {{- '¬©' }}
    <time>{{ 'now' | date: '%Y' }}</time>

    {% if site.social.links %}
    <a href="{{ site.social.links[0] }}">{{ site.social.name }}</a>. {% else %}
    <em class="fst-normal">{{ site.social.name }}</em>. {% endif %} {% if
    site.data.locales[include.lang].copyright.brief %}
    <span
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="{{ site.data.locales[include.lang].copyright.verbose }}"
    >
      {{- site.data.locales[include.lang].copyright.brief -}}
    </span>
    {% endif %}
  </p>

  <p>
    {%- capture _platform -%}
    <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
    {%- endcapture -%} {%- capture _theme -%}
    <a
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="v{{ theme.version }}"
      href="https://github.com/cotes2020/jekyll-theme-chirpy"
      target="_blank"
      rel="noopener"
      >Chirpy</a
    >
    {%- endcapture -%} {{ site.data.locales[include.lang].meta | replace:
    ':PLATFORM', _platform | replace: ':THEME', _theme }}
  </p>
</footer> -->

<!-- Busuanzi script -->
<script
  async
  src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"
></script>

<footer class="pt-2 pb-3 mt-auto">
  <p class="text-muted text-center">
    ¬© {{ site.time | date: '%Y' }}
    <a href="{{ site.url }}" class="text-muted">{{ site.title }}</a>. M·ªçi n·ªôi
    dung thu·ªôc b·∫£n quy·ªÅn c·ªßa Th·∫ßy T√πng HANU, kh√¥ng ƒë∆∞·ª£c sao ch√©p m√† kh√¥ng tr√≠ch
    d·∫´n ho·∫∑c kh√¥ng c√≥ s·ª± cho ph√©p. Powered by
    <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> &
    <a
      href="https://github.com/cotes2020/jekyll-theme-chirpy"
      target="_blank"
      rel="noopener"
      >Chirpy</a
    >
  </p>
  <div class="text-center">{% include refresh-button.html %}</div>
</footer>

<!-- Form thu email ƒë∆°n gi·∫£n g·ª≠i v·ªÅ Google Sheets -->
<div id="subscribe-box" style="text-align: center; margin: 2rem 0">
  <p><strong>üì¨ ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ b√†i vi·∫øt m·ªõi:</strong></p>
  <div
    style="
      display: inline-flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
    "
  >
    <input
      type="email"
      id="emailInput"
      placeholder="Nh·∫≠p email c·ªßa b·∫°n"
      required
      style="
        padding: 0.5rem;
        width: 300px;
        border-radius: 4px;
        border: 1px solid #ccc;
      "
    />
    <button
      onclick="submitEmail()"
      style="
        padding: 0.5rem 1rem;
        background-color: #007acc;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      "
    >
      ƒêƒÉng k√Ω
    </button>
  </div>
  <p id="responseMsg" style="margin-top: 1rem; color: green"></p>
</div>

<script>
  function isValidEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(String(email).toLowerCase());
  }

  function submitEmail() {
    const email = document.getElementById("emailInput").value.trim();
    const responseMsg = document.getElementById("responseMsg");

    if (!email) {
      responseMsg.textContent = "Vui l√≤ng nh·∫≠p email.";
      responseMsg.style.color = "red";
      return;
    }

    if (!isValidEmail(email)) {
      responseMsg.textContent = "ƒê·ªãa ch·ªâ email kh√¥ng h·ª£p l·ªá.";
      responseMsg.style.color = "red";
      return;
    }

    fetch(
      "https://script.google.com/macros/s/AKfycbxVis-ZfJvsl_WFwXLNdFpgldVGp55166-qF6tT-c2ZTkOziWwh81y95B8AZBMskQqAUg/exec",
      {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: `email=${encodeURIComponent(email)}&action=subscribe`,
      }
    )
      .then(() => {
        responseMsg.textContent = "‚úÖ ƒêƒÉng k√Ω th√†nh c√¥ng!";
        responseMsg.style.color = "green";
        document.getElementById("emailInput").value = "";
      })
      .catch(() => {
        responseMsg.textContent = "‚ùå L·ªói khi g·ª≠i d·ªØ li·ªáu.";
        responseMsg.style.color = "red";
      });
  }
</script>
